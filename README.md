# 桌面待办事项 v1.7

一个功能强大的桌面待办事项管理工具，支持分组、拖拽排序、超链接、侧边栏等功能。

![版本](https://img.shields.io/badge/版本-v1.7-blue)
![Python](https://img.shields.io/badge/Python-3.7+-green)
![平台](https://img.shields.io/badge/平台-Windows-lightgrey)

---

## ✨ 核心功能

### 任务管理
- ✅ 添加、编辑、删除、完成任务
- ✅ 双击编辑（支持多行文本）
- ✅ 拖拽排序（按住☰图标拖动）
- ✅ 超链接自动识别（点击打开完整URL）

### 分组管理
- ✅ 创建、重命名、删除分组
- ✅ 切换分组查看，独立统计

### 侧边栏模式
- ✅ 拖拽到屏幕右侧自动开启
- ✅ 鼠标离开自动隐藏为细边条
- ✅ 鼠标靠近自动展开

### 其他特性
- ✅ 系统托盘（关闭时可隐藏到托盘）
- ✅ 窗口置顶
- ✅ 数据自动保存
- ✅ 不占用任务栏

---

## 🚀 快速开始

### 开发环境运行

```bash
# 安装依赖
pip install pillow pystray

# 运行程序
python desktop_todo.py

# 创建桌面快捷方式
python 创建快捷方式.py
```

### 打包成独立exe

```bash
# 安装打包工具
pip install pyinstaller

# 执行打包
python build_exe.py

# 生成的exe在 dist/ 目录
```

---

## 📖 使用指南

### 基本操作

| 操作 | 方法 |
|------|------|
| 添加任务 | 顶部输入框输入，按回车或点击"添加" |
| 完成任务 | 点击任务前的复选框 |
| 编辑任务 | 双击任务文本 |
| 排序任务 | 按住☰图标拖动，或点击↑↓按钮 |
| 删除任务 | 点击任务右侧的✕按钮 |

### 分组管理

| 操作 | 方法 |
|------|------|
| 创建分组 | 点击➕按钮 |
| 切换分组 | 下拉框选择 |
| 重命名分组 | 点击✏️按钮 |
| 删除分组 | 点击🗑️按钮（任务会移到默认分组） |

### 超链接使用

在任务中直接输入网址：
```
查看文档 https://github.com/example/repo
飞书文档 https://c4ojsj1ybv.feishu.cn/docx/...
```
点击蓝色超链接即可打开完整URL（即使显示时被截断）

### 侧边栏模式

- **开启**：拖动窗口到屏幕右侧边缘，或勾选"侧边隐藏"
- **展开**：鼠标移到屏幕右边缘或点击托盘图标

---

## 🔧 技术栈

- **语言**：Python 3.7+
- **GUI**：Tkinter
- **托盘**：pystray
- **图像**：Pillow
- **存储**：JSON

---

## 📦 打包分享

### 生成分享包

1. 运行 `python build_exe.py` 生成exe（约30MB）
2. 将exe和使用说明打包成zip
3. 分享给他人，无需安装Python

### 接收者使用

1. 解压zip到任意文件夹
2. 双击exe运行（首次需5-10秒）
3. Windows提示"已保护你的电脑"时，点击"更多信息" → "仍要运行"

---

## ❓ 常见问题

**Q: 如何拖拽排序？**  
A: 按住☰图标上下拖动（拖动超过50像素触发交换）

**Q: 超链接被截断？**  
A: 显示时可能截断，但点击会打开完整URL

**Q: 如何备份数据？**  
A: 复制 `todo_data.json` 和 `todo_config.json` 文件

**Q: 为什么任务栏没图标？**  
A: 设计特性，不占用任务栏。通过托盘图标或侧边栏访问

**Q: 打包后exe很大？**  
A: 正常现象，包含Python解释器和依赖库（约30MB）

---

## 📝 更新日志

### v1.7 (2026-01-22)
- ✅ 拖拽排序功能
- ✅ 修复超链接截断问题
- ✅ 修复分组任务关联
- ✅ 优化侧边栏隐藏逻辑

### v1.6
- ✅ 分组管理功能
- ✅ 超链接支持

### v1.5
- ✅ 拖拽到边缘自动隐藏
- ✅ 不占用任务栏

### v1.4-v1.0
- 系统托盘、窗口置顶、任务编辑等基础功能

---

## 👤 作者信息

**版本**：v1.7  
**软件制作分享**：jinxishuli@foxmail.com  
**更新日期**：2026-01-22  
**作者公众号**：(http://mp.weixin.qq.com/mp/homepage?__biz=MjM5MTIzMjE0Mw==&hid=1&sn=2b31a3d4525fe8adaade7647ecdd1596&scene=18#wechat_redirect)

---

## 💡 使用提示

- 🎯 用分组整理不同类型任务（工作、学习、生活）
- 🖱️ 按住☰图标拖动，快速调整任务顺序
- 🔗 在任务中添加参考链接，点击即可打开
- 📌 拖到屏幕右侧边缘，作为桌面侧边栏使用
- 💾 所有操作自动保存，无需担心数据丢失
